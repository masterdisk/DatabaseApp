{"remainingRequest":"C:\\devilbox\\data\\www\\dbapp\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\devilbox\\data\\www\\dbapp\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\devilbox\\data\\www\\dbapp\\client\\src\\auth\\index.js","dependencies":[{"path":"C:\\devilbox\\data\\www\\dbapp\\client\\src\\auth\\index.js","mtime":1616062941856},{"path":"C:\\devilbox\\data\\www\\dbapp\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\devilbox\\data\\www\\dbapp\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\devilbox\\data\\www\\dbapp\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxcZGV2aWxib3hcXGRhdGFcXHd3d1xcZGJhcHBcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICJDOlxcZGV2aWxib3hcXGRhdGFcXHd3d1xcZGJhcHBcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IGNyZWF0ZUF1dGgwQ2xpZW50IGZyb20gIkBhdXRoMC9hdXRoMC1zcGEtanMiOwovKiogRGVmaW5lIGEgZGVmYXVsdCBhY3Rpb24gdG8gcGVyZm9ybSBhZnRlciBhdXRoZW50aWNhdGlvbiAqLwoKdmFyIERFRkFVTFRfUkVESVJFQ1RfQ0FMTEJBQ0sgPSBmdW5jdGlvbiBERUZBVUxUX1JFRElSRUNUX0NBTExCQUNLKCkgewogIHJldHVybiB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpOwp9OwoKdmFyIGluc3RhbmNlOwovKiogUmV0dXJucyB0aGUgY3VycmVudCBpbnN0YW5jZSBvZiB0aGUgU0RLICovCgpleHBvcnQgdmFyIGdldEluc3RhbmNlID0gZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKSB7CiAgcmV0dXJuIGluc3RhbmNlOwp9OwovKiogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgQXV0aDAgU0RLLiBJZiBvbmUgaGFzIGFscmVhZHkgYmVlbiBjcmVhdGVkLCBpdCByZXR1cm5zIHRoYXQgaW5zdGFuY2UgKi8KCmV4cG9ydCB2YXIgdXNlQXV0aDAgPSBmdW5jdGlvbiB1c2VBdXRoMChfcmVmKSB7CiAgdmFyIF9yZWYkb25SZWRpcmVjdENhbGxiYSA9IF9yZWYub25SZWRpcmVjdENhbGxiYWNrLAogICAgICBvblJlZGlyZWN0Q2FsbGJhY2sgPSBfcmVmJG9uUmVkaXJlY3RDYWxsYmEgPT09IHZvaWQgMCA/IERFRkFVTFRfUkVESVJFQ1RfQ0FMTEJBQ0sgOiBfcmVmJG9uUmVkaXJlY3RDYWxsYmEsCiAgICAgIF9yZWYkcmVkaXJlY3RVcmkgPSBfcmVmLnJlZGlyZWN0VXJpLAogICAgICByZWRpcmVjdFVyaSA9IF9yZWYkcmVkaXJlY3RVcmkgPT09IHZvaWQgMCA/IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gOiBfcmVmJHJlZGlyZWN0VXJpLAogICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsib25SZWRpcmVjdENhbGxiYWNrIiwgInJlZGlyZWN0VXJpIl0pOwoKICBpZiAoaW5zdGFuY2UpIHJldHVybiBpbnN0YW5jZTsgLy8gVGhlICdpbnN0YW5jZScgaXMgc2ltcGx5IGEgVnVlIG9iamVjdAoKICBpbnN0YW5jZSA9IG5ldyBWdWUoewogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsCiAgICAgICAgdXNlcjoge30sCiAgICAgICAgYXV0aDBDbGllbnQ6IG51bGwsCiAgICAgICAgcG9wdXBPcGVuOiBmYWxzZSwKICAgICAgICBlcnJvcjogbnVsbAogICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgLyoqIEF1dGhlbnRpY2F0ZXMgdGhlIHVzZXIgdXNpbmcgYSBwb3B1cCB3aW5kb3cgKi8KICAgICAgbG9naW5XaXRoUG9wdXA6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2xvZ2luV2l0aFBvcHVwID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobykgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwT3BlbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQubG9naW5XaXRoUG9wdXAobyk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICAgIHRoaXMucG9wdXBPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goOSk7CgogICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5nZXRVc2VyKCk7CgogICAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgICAgdGhpcy51c2VyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgdGhpcy5pc0F1dGhlbnRpY2F0ZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1sxLCA2LCA5LCAxMl1dKTsKICAgICAgICB9KSk7CgogICAgICAgIGZ1bmN0aW9uIGxvZ2luV2l0aFBvcHVwKF94KSB7CiAgICAgICAgICByZXR1cm4gX2xvZ2luV2l0aFBvcHVwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbG9naW5XaXRoUG9wdXA7CiAgICAgIH0oKSwKCiAgICAgIC8qKiBIYW5kbGVzIHRoZSBjYWxsYmFjayB3aGVuIGxvZ2dpbmcgaW4gdXNpbmcgYSByZWRpcmVjdCAqLwogICAgICBoYW5kbGVSZWRpcmVjdENhbGxiYWNrOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9oYW5kbGVSZWRpcmVjdENhbGxiYWNrID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQuZ2V0VXNlcigpOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgdGhpcy51c2VyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gX2NvbnRleHQyLnQwOwoKICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgxMyk7CgogICAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbMSwgMTAsIDEzLCAxNl1dKTsKICAgICAgICB9KSk7CgogICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlZGlyZWN0Q2FsbGJhY2soKSB7CiAgICAgICAgICByZXR1cm4gX2hhbmRsZVJlZGlyZWN0Q2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBoYW5kbGVSZWRpcmVjdENhbGxiYWNrOwogICAgICB9KCksCgogICAgICAvKiogQXV0aGVudGljYXRlcyB0aGUgdXNlciB1c2luZyB0aGUgcmVkaXJlY3QgbWV0aG9kICovCiAgICAgIGxvZ2luV2l0aFJlZGlyZWN0OiBmdW5jdGlvbiBsb2dpbldpdGhSZWRpcmVjdChvKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQubG9naW5XaXRoUmVkaXJlY3Qobyk7CiAgICAgIH0sCgogICAgICAvKiogUmV0dXJucyBhbGwgdGhlIGNsYWltcyBwcmVzZW50IGluIHRoZSBJRCB0b2tlbiAqLwogICAgICBnZXRJZFRva2VuQ2xhaW1zOiBmdW5jdGlvbiBnZXRJZFRva2VuQ2xhaW1zKG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5nZXRJZFRva2VuQ2xhaW1zKG8pOwogICAgICB9LAoKICAgICAgLyoqIFJldHVybnMgdGhlIGFjY2VzcyB0b2tlbi4gSWYgdGhlIHRva2VuIGlzIGludmFsaWQgb3IgbWlzc2luZywgYSBuZXcgb25lIGlzIHJldHJpZXZlZCAqLwogICAgICBnZXRUb2tlblNpbGVudGx5OiBmdW5jdGlvbiBnZXRUb2tlblNpbGVudGx5KG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5nZXRUb2tlblNpbGVudGx5KG8pOwogICAgICB9LAoKICAgICAgLyoqIEdldHMgdGhlIGFjY2VzcyB0b2tlbiB1c2luZyBhIHBvcHVwIHdpbmRvdyAqLwogICAgICBnZXRUb2tlbldpdGhQb3B1cDogZnVuY3Rpb24gZ2V0VG9rZW5XaXRoUG9wdXAobykgewogICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmdldFRva2VuV2l0aFBvcHVwKG8pOwogICAgICB9LAoKICAgICAgLyoqIExvZ3MgdGhlIHVzZXIgb3V0IGFuZCByZW1vdmVzIHRoZWlyIHNlc3Npb24gb24gdGhlIGF1dGhvcml6YXRpb24gc2VydmVyICovCiAgICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KG8pIHsKICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5sb2dvdXQobyk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqIFVzZSB0aGlzIGxpZmVjeWNsZSBtZXRob2QgdG8gaW5zdGFudGlhdGUgdGhlIFNESyBjbGllbnQgKi8KICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jcmVhdGVkID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF9yZWYyLCBhcHBTdGF0ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBdXRoMENsaWVudCh7CiAgICAgICAgICAgICAgICAgIGRvbWFpbjogb3B0aW9ucy5kb21haW4sCiAgICAgICAgICAgICAgICAgIGNsaWVudF9pZDogb3B0aW9ucy5jbGllbnRJZCwKICAgICAgICAgICAgICAgICAgYXVkaWVuY2U6IG9wdGlvbnMuYXVkaWVuY2UsCiAgICAgICAgICAgICAgICAgIHJlZGlyZWN0X3VyaTogcmVkaXJlY3RVcmkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0aGlzLmF1dGgwQ2xpZW50ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDM7CgogICAgICAgICAgICAgICAgaWYgKCEod2luZG93LmxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcygiY29kZT0iKSAmJiB3aW5kb3cubG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKCJzdGF0ZT0iKSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0aDBDbGllbnQuaGFuZGxlUmVkaXJlY3RDYWxsYmFjaygpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfcmVmMiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgYXBwU3RhdGUgPSBfcmVmMi5hcHBTdGF0ZTsKICAgICAgICAgICAgICAgIC8vIE5vdGlmeSBzdWJzY3JpYmVycyB0aGF0IHRoZSByZWRpcmVjdCBjYWxsYmFjayBoYXMgaGFwcGVuZWQsIHBhc3NpbmcgdGhlIGFwcFN0YXRlCiAgICAgICAgICAgICAgICAvLyAodXNlZnVsIGZvciByZXRyaWV2aW5nIGFueSBwcmUtYXV0aGVudGljYXRpb24gc3RhdGUpCiAgICAgICAgICAgICAgICBvblJlZGlyZWN0Q2FsbGJhY2soYXBwU3RhdGUpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgzKTsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBfY29udGV4dDMudDA7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE1OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dGgwQ2xpZW50LmlzQXV0aGVudGljYXRlZCgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgdGhpcy5pc0F1dGhlbnRpY2F0ZWQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRoMENsaWVudC5nZXRVc2VyKCk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICB0aGlzLnVzZXIgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMTUpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzLCBbWzMsIDEyLCAxNSwgMjRdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgICAgcmV0dXJuIF9jcmVhdGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBjcmVhdGVkOwogICAgfSgpCiAgfSk7CiAgcmV0dXJuIGluc3RhbmNlOwp9OyAvLyBDcmVhdGUgYSBzaW1wbGUgVnVlIHBsdWdpbiB0byBleHBvc2UgdGhlIHdyYXBwZXIgb2JqZWN0IHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uCgpleHBvcnQgdmFyIEF1dGgwUGx1Z2luID0gewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlLCBvcHRpb25zKSB7CiAgICBWdWUucHJvdG90eXBlLiRhdXRoID0gdXNlQXV0aDAob3B0aW9ucyk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/devilbox/data/www/dbapp/client/src/auth/index.js"],"names":["Vue","createAuth0Client","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","instance","getInstance","useAuth0","onRedirectCallback","redirectUri","origin","options","data","loading","isAuthenticated","user","auth0Client","popupOpen","error","methods","loginWithPopup","o","console","getUser","handleRedirectCallback","loginWithRedirect","getIdTokenClaims","getTokenSilently","getTokenWithPopup","logout","created","domain","client_id","clientId","audience","redirect_uri","search","includes","appState","Auth0Plugin","install","prototype","$auth"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\n\n/** Define a default action to perform after authentication */\nconst DEFAULT_REDIRECT_CALLBACK = () =>\n    window.history.replaceState({}, document.title, window.location.pathname);\n\nlet instance;\n\n/** Returns the current instance of the SDK */\nexport const getInstance = () => instance;\n\n/** Creates an instance of the Auth0 SDK. If one has already been created, it returns that instance */\nexport const useAuth0 = ({\n                             onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n                             redirectUri = window.location.origin,\n                             ...options\n                         }) => {\n    if (instance) return instance;\n\n    // The 'instance' is simply a Vue object\n    instance = new Vue({\n        data() {\n            return {\n                loading: true,\n                isAuthenticated: false,\n                user: {},\n                auth0Client: null,\n                popupOpen: false,\n                error: null\n            };\n        },\n        methods: {\n            /** Authenticates the user using a popup window */\n            async loginWithPopup(o) {\n                this.popupOpen = true;\n\n                try {\n                    await this.auth0Client.loginWithPopup(o);\n                } catch (e) {\n                    // eslint-disable-next-line\n                    console.error(e);\n                } finally {\n                    this.popupOpen = false;\n                }\n\n                this.user = await this.auth0Client.getUser();\n                this.isAuthenticated = true;\n            },\n            /** Handles the callback when logging in using a redirect */\n            async handleRedirectCallback() {\n                this.loading = true;\n                try {\n                    await this.auth0Client.handleRedirectCallback();\n                    this.user = await this.auth0Client.getUser();\n                    this.isAuthenticated = true;\n                } catch (e) {\n                    this.error = e;\n                } finally {\n                    this.loading = false;\n                }\n            },\n            /** Authenticates the user using the redirect method */\n            loginWithRedirect(o) {\n                return this.auth0Client.loginWithRedirect(o);\n            },\n            /** Returns all the claims present in the ID token */\n            getIdTokenClaims(o) {\n                return this.auth0Client.getIdTokenClaims(o);\n            },\n            /** Returns the access token. If the token is invalid or missing, a new one is retrieved */\n            getTokenSilently(o) {\n                return this.auth0Client.getTokenSilently(o);\n            },\n            /** Gets the access token using a popup window */\n\n            getTokenWithPopup(o) {\n                return this.auth0Client.getTokenWithPopup(o);\n            },\n            /** Logs the user out and removes their session on the authorization server */\n            logout(o) {\n                return this.auth0Client.logout(o);\n            }\n        },\n        /** Use this lifecycle method to instantiate the SDK client */\n        async created() {\n            // Create a new instance of the SDK client using members of the given options object\n            this.auth0Client = await createAuth0Client({\n                domain: options.domain,\n                client_id: options.clientId,\n                audience: options.audience,\n                redirect_uri: redirectUri\n            });\n\n            try {\n                // If the user is returning to the app after authentication...\n                if (\n                    window.location.search.includes(\"code=\") &&\n                    window.location.search.includes(\"state=\")\n                ) {\n                    // handle the redirect and retrieve tokens\n                    const {appState} = await this.auth0Client.handleRedirectCallback();\n\n                    // Notify subscribers that the redirect callback has happened, passing the appState\n                    // (useful for retrieving any pre-authentication state)\n                    onRedirectCallback(appState);\n                }\n            } catch (e) {\n                this.error = e;\n            } finally {\n                // Initialize our internal authentication state\n                this.isAuthenticated = await this.auth0Client.isAuthenticated();\n                this.user = await this.auth0Client.getUser();\n                this.loading = false;\n            }\n        }\n    });\n\n    return instance;\n};\n\n// Create a simple Vue plugin to expose the wrapper object throughout the application\nexport const Auth0Plugin = {\n    install(Vue, options) {\n        Vue.prototype.$auth = useAuth0(options);\n    }\n};\n"]}]}